<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Visualization Project</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            color: #333;
        }

        /* Header Styling */
        header {
            background-color: #2c3e50;
            color: white;
            padding: 20px 0;
            text-align: center;
            font-size: 30px;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        /* Navigation Bar */
        nav {
            display: flex;
            justify-content: center;
            background-color: #34495e;
            padding: 10px 0;
        }

        nav a {
            padding: 14px 20px;
            text-decoration: none;
            color: white;
            font-size: 18px;
            margin: 0 10px;
            text-transform: uppercase;
        }

        nav a:hover {
            background-color: #2c3e50;
            border-radius: 5px;
        }

        /* Section Styling */
        section {
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        h2 {
            font-size: 28px;
            color: #2980b9;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        p {
            line-height: 1.6;
            font-size: 18px;
        }

        /* Chart Container */
        #chart-container {
            margin-top: 30px;
        }

        /* Chart Container for Scatter Plot */
        #chart-container1 {
            margin-top: 30px;
        }

        /* Chart Container for Stacked Bar Chart */
        #chart-container2 {
            margin-top: 30px;
        }

        /* Footer Styling */
        footer {
            background-color: #34495e;
            color: white;
            text-align: center;
            padding: 20px 0;
        }

        /* Layout for Responsive */
        @media (max-width: 768px) {
            nav {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header>
        Data Visualization Project
    </header>

    <h3>Omeed & Liam</h3>

    <!-- Navigation Bar -->
    <nav>
        <a href="#home">Home</a>
        <a href="#visualizations">Visualizations</a>
        <a href="#data-insights">Data Insights</a>
        <a href="#about">About the Project</a>
    </nav>

    <!-- Home Section -->
    <section id="home">
        <h2>Home</h2>
        <p>Welcome to our Data Visualization project! Our goal is to provide insightful visualizations that make complex healthcare, finance, and education data easier to understand and interpret.</p>
    </section>

    <!-- Visualizations Section -->
    <section id="visualizations">
        <h2>Visualizations 1</h2>
        <p>Below is a sample interactive chart based on healthcare data, showing the life expectancy in various countries over time.</p>
        <div id="chart-container">
            <!-- D3.js chart will be rendered here -->
        </div>
    </section>

    <!-- Scatter Plot Section -->
    <section id="scatterPlotSection">
        <h2>Scatter Plot Visualization</h2>
        <p>Below is a scatter plot chart based on housing prices in different areas.</p>
        <div id="chart-container1">
            <!-- D3.js scatter plot will be rendered here -->
        </div>
    </section>

    <!-- Stacked Bar Chart Section -->
    <section id="stackedbarChartSection">
        <h2>Stacked Bar Chart Visualization</h2>
        <p>Below is a stacked bar chart.</p>
        <div id="chart-container2">
            <!-- D3.js stacked bar chart will be rendered here -->
        </div>
    </section>

    <!-- Data Insights Section -->
    <section id="data-insights">
        <h2>Data Insights</h2>
        <p>Explore our insights gathered from analyzing various datasets, focusing on healthcare outcomes, financial trends, and education statistics. These insights highlight key trends, patterns, and anomalies in the data.</p>
    </section>

    <!-- About the Project Section -->
    <section id="about">
        <h2>About the Project</h2>
        <p>This project explores data through interactive visualizations, offering a deep dive into multiple domains. Our approach leverages D3.js for data-driven visualizations that bring these datasets to life.</p>
    </section>

    <!-- Footer -->
    <footer>
        &copy; 2024 Data Visualization Project. All rights reserved.
    </footer>

    <!-- D3.js and Data Visualization -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script>
        // Line chart script
        const data = [
            {country: "Afghanistan", year: 2000, lifeExpectancy: 55},
            {country: "Afghanistan", year: 2010, lifeExpectancy: 60},
            {country: "Afghanistan", year: 2020, lifeExpectancy: 65},
            {country: "Australia", year: 2000, lifeExpectancy: 80},
            {country: "Australia", year: 2010, lifeExpectancy: 82},
            {country: "Australia", year: 2020, lifeExpectancy: 84},
            {country: "Japan", year: 2000, lifeExpectancy: 82},
            {country: "Japan", year: 2010, lifeExpectancy: 84},
            {country: "Japan", year: 2020, lifeExpectancy: 86},
            {country: "USA", year: 2000, lifeExpectancy: 76},
            {country: "USA", year: 2010, lifeExpectancy: 78},
            {country: "USA", year: 2020, lifeExpectancy: 79}
        ];

        const margin = {top: 40, right: 20, bottom: 60, left: 80},
              width = 800 - margin.left - margin.right,
              height = 400 - margin.top - margin.bottom;

        const svg = d3.select("#chart-container")
                      .append("svg")
                      .attr("width", width + margin.left + margin.right)
                      .attr("height", height + margin.top + margin.bottom)
                      .append("g")
                      .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

        const x = d3.scaleLinear()
                    .domain([2000, 2020])
                    .range([0, width]);

        const y = d3.scaleLinear()
                    .domain([50, 90])
                    .range([height, 0]);

        const line = d3.line()
                       .x(d => x(d.year))
                       .y(d => y(d.lifeExpectancy))
                       .curve(d3.curveMonotoneX);

        svg.append("g")
           .attr("transform", "translate(0," + height + ")")
           .call(d3.axisBottom(x).tickFormat(d3.format("d")));

        svg.append("g")
           .call(d3.axisLeft(y));

        const countries = d3.groups(data, d => d.country);

        countries.forEach(([country, values]) => {
            svg.append("path")
               .datum(values)
               .attr("fill", "none")
               .attr("stroke", d3.schemeCategory10[Math.floor(Math.random() * 10)])
               .attr("stroke-width", 2)
               .attr("d", line);

            svg.append("text")
               .attr("transform", `translate(${x(values[values.length - 1].year)}, ${y(values[values.length - 1].lifeExpectancy)})`)
               .attr("dy", ".35em")
               .attr("x", 5)
               .style("fill", "#333")
               .text(country);
        });
    </script>

    <script>
        // Scatter plot script
        const margin2 = { top: 50, right: 30, bottom: 60, left: 60 };
        const width2 = 800 - margin2.left - margin2.right;
        const height2 = 500 - margin2.top - margin2.bottom;

        const svg2 = d3.select("#chart-container1")
            .append("svg")
            .attr("width", width2 + margin2.left + margin2.right)
            .attr("height", height2 + margin2.top + margin2.bottom)
            .append("g")
            .attr("transform", `translate(${margin2.left},${margin2.top})`);

        // Define the CSV data 
        d3.csv("data.csv").then(function (data) {

            // X axis
            const x2 = d3.scaleLinear()
                .domain([0, 100])  // Adjust domain according to your data
                .range([0, width2]);
            svg2.append("g")
                .attr("transform", `translate(0, ${height2})`)
                .call(d3.axisBottom(x2));

            // Y axis
            const y2 = d3.scaleLinear()
                .domain([0, 100])  // Adjust domain according to your data
                .range([height2, 0]);
            svg2.append("g")
                .call(d3.axisLeft(y2));

            // Plot the points
            svg2.append("g")
                .selectAll("dot")
                .data(data)
                .enter()
                .append("circle")
                .attr("cx", d => x2(d.Housing))  
                .attr("cy", d => y2(d.Area))  
                .attr("r", 5)
                .style("fill", "#69b3a2");
        });
    </script>

<script>
    // Stacked bar Chart Section
    // Dataset
    var dataset = [
        { apples: 5, oranges: 10, grapes: 22 },
        { apples: 4, oranges: 12, grapes: 28 },
        { apples: 2, oranges: 19, grapes: 32 },
        { apples: 7, oranges: 23, grapes: 35 },
        { apples: 23, oranges: 17, grapes: 43 }
    ];

    // Width and Height of SVG
    var w = 400;
    var h = 300;
    var padding = 50;

    // Define color scale
    var color = d3.scaleOrdinal(d3.schemeCategory10);

    // Define scales
    var xScale = d3.scaleBand()
        .domain(d3.range(dataset.length))
        .range([padding, w - padding])
        .padding(0.1);  // Adds space between bars

    var yScale = d3.scaleLinear()
        .domain([0, d3.max(dataset, function(d) {
            return d.apples + d.oranges + d.grapes;
        })])
        .range([h - padding, padding]);

    // Stack layout
    var stack = d3.stack()
        .keys(["apples", "oranges", "grapes"]);

    var series = stack(dataset);

    // Create SVG element
    var svg = d3.select("#chart")
        .append("svg")
        .attr("width", w)
        .attr("height", h);

    // Create groups for each stack
    var groups = svg.selectAll("g")
        .data(series)
        .enter()
        .append("g")
        .style("fill", function(d, i) {
            return color(i);  // Color for each stack
        });

    // Create bars for each segment
    var rects = groups.selectAll("rect")
        .data(function(d) { return d; })
        .enter()
        .append("rect")
        .attr("x", function(d, i) {
            return xScale(i);  // X-position
        })
        .attr("y", function(d) {
            return yScale(d[1]);  // Top of the segment
        })
        .attr("height", function(d) {
            return yScale(d[0]) - yScale(d[1]);  // Height of the segment
        })
        .attr("width", xScale.bandwidth());  // Width of the bars

    // Add axes
    var xAxis = d3.axisBottom(xScale)
        .tickFormat(function(d, i) { return "Group " + (i + 1); });

    var yAxis = d3.axisLeft(yScale);

    svg.append("g")
        .attr("transform", "translate(0," + (h - padding) + ")")
        .call(xAxis);

    svg.append("g")
        .attr("transform", "translate(" + padding + ",0)")
        .call(yAxis);

</script>
</body>
</html>
